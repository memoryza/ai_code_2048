# 2048 游戏项目 PRD

## 1. 项目概述

本项目是一个基于 React + TypeScript 实现的 2048 游戏，支持PC端和移动端，具有响应式设计和触摸控制功能。

## 2. 功能需求

### 2.1 游戏主页面
- 600*600 的 canvas 容器用于实现 2048 小游戏（移动端自适应）
- 显示当前分数
- 回退按钮：用于回到上一步操作
- 查看历史按钮：跳转到历史积分页面

### 2.2 游戏核心功能
- 4x4 的游戏格子
- 支持键盘方向键控制（上下左右）
- 支持移动端触摸滑动控制
- 相同数字碰撞后合并
- 每次有效移动后随机生成一个新数字（2或4）
- 支持操作回退功能

### 2.3 历史积分页面
- 显示玩家历史得分记录
- 包含玩家名称、得分和日期
- 按分数降序排序
- 支持返回游戏页面
- 响应式设计，适配移动端

### 2.4 游戏结束逻辑
- 当所有格子填满且无法合并时游戏结束
- 显示最终得分
- 提示输入玩家名称
- 保存得分记录到本地存储
- 提供重新开始游戏选项

### 2.5 移动端适配
- Canvas 容器自适应屏幕宽度
- 触摸滑动控制
  - 最小滑动距离：50px
  - 支持上下左右四个方向
- 响应式布局
  - 移动端垂直布局
  - 桌面端水平布局
- 字体大小自适应

### 2.6 历史记录页面移动适配
- 桌面端：表格形式展示
- 移动端：卡片式布局
- 突出显示前三名（黄色背景）
- 自适应屏幕宽度

## 3. 技术实现

### 3.1 技术栈
- React 18
- TypeScript
- Vite
- React Router v6
- Tailwind CSS

### 3.2 主要组件
- HomePage: 游戏主页面组件
- HistoryPage: 历史积分页面组件
- App: 路由配置组件

### 3.3 数据存储
- 使用 localStorage 存储历史得分记录
- 记录包含：玩家名称、得分、日期

### 3.4 响应式设计
- 桌面端：完整显示游戏界面
- 移动端：自适应屏幕宽度
- 触摸控制：支持滑动操作

### 3.5 部署配置
- GitHub Pages 部署
  - 使用 gh-pages 分支
  - 自动化部署流程
  - 路由适配（使用 HashRouter）
- 构建优化
  - 资源路径配置
  - 打包优化

## 4. 用户界面

### 4.1 游戏主页面
- 顶部显示游戏标题
- 显示当前分数
- Canvas 游戏区域（自适应）
- 底部操作按钮（回退、查看历史）

### 4.2 历史积分页面
- 桌面端：表格形式显示
- 移动端：卡片形式显示
- 突出显示前三名记录
- 返回游戏按钮

## 5. 交互设计

### 5.1 键盘控制
- ↑：向上移动
- ↓：向下移动
- ←：向左移动
- →：向右移动

### 5.2 触摸控制
- 上滑：向上移动
- 下滑：向下移动
- 左滑：向左移动
- 右滑：向右移动
- 最小滑动距离：50px

## 6. 项目部署
- 开发环境：`npm run dev`
- 构建生产：`npm run build`
- 预览生产：`npm run preview`
- GitHub Pages：`npm run deploy`

## 7. 浏览器兼容性
- 支持现代浏览器
- 支持移动端浏览器
- 需要支持 Canvas API
- 支持触摸事件

## 8. 部署说明
### 8.1 GitHub Pages 部署步骤
1. 配置 vite.config.ts 的 base 路径
2. 使用 HashRouter 处理路由
3. 安装并配置 gh-pages
4. 执行部署命令
5. 设置 GitHub 仓库

### 8.2 部署后访问
- 通过 GitHub Pages URL 访问
- 支持移动端和桌面端访问
- 保证资源正确加载